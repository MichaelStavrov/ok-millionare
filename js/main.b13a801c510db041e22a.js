(()=>{"use strict";var e,t,r,n={29:(e,t,r)=>{var n=r(893),o=r(745),s=r(655);var a,i=r(250);!function(e){e.MainPage="/",e.ErrorPage="/error-page",e.NotFound="/*"}(a||(a={}));var c=r(967),l=r.n(c),u=r(294);const d={async fetchQuestions(){const e=await fetch("http://localhost:3001/questions");return await e.json()},async fetchRating(){const e=await fetch("http://localhost:3001/rating");return await e.json()},async sendResult(e){const t=await fetch("http://localhost:3001/rating",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});console.log("res ",t)},async deleteUserResult(e){const t=await fetch(`http://localhost:3001/rating/${e}`,{method:"DELETE"});return await t.json()}},m=(0,u.createContext)({questions:[],getQuestions:()=>{},questionFetchingStatus:"idle",currentQuestionNum:1,nextQuestion:()=>{},onChangeCurrentQuestionNum:()=>{},playTimer:!0,onPauseTimer:()=>{},onPlayTimer:()=>{},onToggleTimer:()=>{},safeAmount:0,onChangeSafeAmount:()=>{},end:"none",onEnd:()=>{},onReset:()=>{},userAnswer:null,onSetUserAnswer:()=>{},timerIsOver:!1,onSetTimerIsOver:()=>{},timerKey:1,incTimerKey:()=>{},helpers:{half:0,audience:0},onChangeHelpers:()=>{},ratingData:[],getRating:()=>{},ratingFetchingStatus:"idle"}),h=({children:e})=>{const[t,r]=(0,u.useState)([]),[o,s]=(0,u.useState)("idle"),[a,i]=(0,u.useState)(1),[c,l]=(0,u.useState)(!0),[h,g]=(0,u.useState)(0),[f,p]=(0,u.useState)("none"),[x,_]=(0,u.useState)(null),[j,b]=(0,u.useState)(!1),[y,v]=(0,u.useState)(1),[w,C]=(0,u.useState)({half:0,audience:0}),[S,N]=(0,u.useState)([]),[k,O]=(0,u.useState)("idle"),T=(0,u.useCallback)((async()=>{try{s("loading");const e=await d.fetchQuestions();r(e)}catch(e){console.log("err",e),s("error")}finally{s("loaded")}}),[]),P=(0,u.useCallback)((async()=>{try{O("loading");const e=await d.fetchRating();N(e)}catch(e){console.log("err",e),O("error")}finally{O("loaded")}}),[]),Q=(0,u.useCallback)((()=>i((e=>e+1))),[]),E=(0,u.useCallback)((e=>i(e)),[]),q=(0,u.useCallback)((()=>l(!1)),[]),M=(0,u.useCallback)((()=>l(!0)),[]),A=(0,u.useCallback)((()=>l((e=>!e))),[]),B=(0,u.useCallback)((e=>g(e)),[]),R=(0,u.useCallback)((e=>p(e)),[]),I=(0,u.useCallback)((e=>_(e)),[]),W=(0,u.useCallback)((e=>b(e)),[]),z=(0,u.useCallback)((()=>v((e=>e+1))),[]),U=(0,u.useCallback)((e=>C(e)),[]),H=(0,u.useCallback)((()=>{T(),i(1),l(!0),g(0),p("none"),_(null),b(!1),C({half:0,audience:0})}),[T]),K={questions:t,getQuestions:T,questionFetchingStatus:o,currentQuestionNum:a,nextQuestion:Q,playTimer:c,onPauseTimer:q,onPlayTimer:M,onToggleTimer:A,onChangeCurrentQuestionNum:E,safeAmount:h,onChangeSafeAmount:B,end:f,onEnd:R,onReset:H,userAnswer:x,onSetUserAnswer:I,timerIsOver:j,onSetTimerIsOver:W,timerKey:y,incTimerKey:z,helpers:w,onChangeHelpers:U,ratingData:S,getRating:P,ratingFetchingStatus:k};return(0,n.jsx)(m.Provider,{value:K,children:e})},g=()=>(0,u.useContext)(m);var f=r(83);const p="GameHelpers-module__layout--SzaBg",x="GameHelpers-module__helper--Ea4s2",_="GameHelpers-module__helper-1--g1sco",j="GameHelpers-module__helper-2--azUhm",b="GameHelpers-module__closeIcon--WSOZ0",y=()=>{const{onChangeHelpers:e,helpers:t,currentQuestionNum:r,end:o}=g();return(0,n.jsxs)("div",{className:p,children:[(0,n.jsx)("button",{className:l()(x,_),onClick:()=>{t.half||e({...t,half:r})},disabled:"none"!==o,children:!!t.half&&(0,n.jsx)("img",{className:b,src:f,alt:"img"})}),(0,n.jsx)("button",{className:l()(x,j),onClick:()=>{t.audience||e({...t,audience:r})},disabled:"none"!==o,children:!!t.audience&&(0,n.jsx)("img",{className:b,src:f,alt:"img"})})]})},v="QuestionComponent-module__layout--u05VY",w="QuestionComponent-module__question--fxND_",C="QuestionComponent-module__answers--g36rS",S="QuestionComponent-module__animateAnswer--NXMjM",N="QuestionComponent-module__answer--XgNKC",k="QuestionComponent-module__nonHover--q7NxU",O="QuestionComponent-module__hidden--KWmcl",T="Loader-module__loader--nEUls",P="Loader-module__large--G5D22",Q="Loader-module__small--_OkTN",E="Loader-module__item--XOzYm",q="Loader-module__primary--uzsZO",M="Loader-module__center--kWloL",A=({variant:e="default",color:t="white",center:r})=>(0,n.jsx)("div",{className:l()({[M]:r}),children:(0,n.jsx)("div",{className:l()(T,{[P]:"large"===e}),children:[1,2,3,4].map((r=>(0,n.jsx)("div",{className:l()(E,{[P]:"large"===e,[Q]:"small"===e,[q]:"primary"===t})},r)))})}),B="Button-module__button--b_aG7",R="Button-module__primary--taWj2",I="Button-module__black--pqBDr",W="Button-module__withBorder--copId",z="Button-module__small--DfILt",U="Button-module__outline--dK5VZ",H=(0,u.forwardRef)(((e,t)=>{const{children:r,view:o="primary",type:s="button",isLoading:a,loaderColor:i,withBorder:c,mw:u,h:d,fz:m,fw:h,size:g,br:f,ls:p,style:x,..._}=e,j=l()(B,{[R]:"primary"===o,[I]:"black"===o,[W]:c,[z]:"small"===g,[U]:"outline"===o});return(0,n.jsx)("button",{className:j,type:s,ref:t,..._,style:{maxWidth:u,height:d,fontSize:m,fontWeight:h,borderRadius:f,letterSpacing:p,...x},children:a?(0,n.jsx)(A,{color:i}):r})}));H.displayName="Button";const K=H,L=(e,t)=>{const r=Math.ceil(e),n=Math.floor(t);return Math.floor(Math.random()*(n-r)+r)},F=e=>{const t=e.findIndex((({correct:e})=>Boolean(e)));let r=null,n=L(0,4);for(;n===t;)n=L(0,4);r=n;let o=null;for(;n===t||n===r;)n=L(0,4);return o=n,{randomFirst:r,randomSecond:o}},G=[{id:1,question:"Вопрос 1 Назовите среднее время работы алгоритма быстрой сортировки для массива из n элементов Назовите среднее время работы алгоритма быстрой сортировки для массива из n элементов Назовите среднее время работы алгоритма быстрой сортировки для массива из n элементов",answers:[{id:1,text:"Ответ 1",correct:!1},{id:2,text:"Ответ 2",correct:!0},{id:3,text:"Ответ 3",correct:!1},{id:4,text:"Ответ 4",correct:!1}]},{id:2,question:"Вопрос 2",answers:[{id:1,text:"Ответ 1",correct:!0},{id:2,text:"Ответ 2",correct:!1},{id:3,text:"Ответ 3",correct:!1},{id:4,text:"Ответ 4",correct:!1}]},{id:3,question:"Вопрос 3",answers:[{id:1,text:"Ответ 1",correct:!1},{id:2,text:"Ответ 2",correct:!1},{id:3,text:"Ответ 3",correct:!0},{id:4,text:"Ответ 4",correct:!1}]},{id:4,question:"Вопрос 4",answers:[{id:1,text:"Ответ 1",correct:!1},{id:2,text:"Ответ 2",correct:!1},{id:3,text:"Ответ 3",correct:!1},{id:4,text:"Ответ 4",correct:!0}]},{id:5,question:"Вопрос 5",answers:[{id:1,text:"Ответ 1",correct:!1},{id:2,text:"Ответ 2",correct:!1},{id:3,text:"Ответ 3",correct:!1},{id:4,text:"Ответ 4",correct:!0}]},{id:6,question:"Вопрос 6",answers:[{id:1,text:"Ответ 1",correct:!1},{id:2,text:"Ответ 2",correct:!1},{id:3,text:"Ответ 3",correct:!1},{id:4,text:"Ответ 4",correct:!0}]},{id:7,question:"Вопрос 7",answers:[{id:1,text:"Ответ 1",correct:!1},{id:2,text:"Ответ 2",correct:!1},{id:3,text:"Ответ 3",correct:!1},{id:4,text:"Ответ 4",correct:!0}]},{id:8,question:"Вопрос 8",answers:[{id:1,text:"Ответ 1",correct:!1},{id:2,text:"Ответ 2",correct:!1},{id:3,text:"Ответ 3",correct:!1},{id:4,text:"Ответ 4",correct:!0}]},{id:9,question:"Вопрос 9",answers:[{id:1,text:"Ответ 1",correct:!1},{id:2,text:"Ответ 2",correct:!1},{id:3,text:"Ответ 3",correct:!1},{id:4,text:"Ответ 4",correct:!0}]}],D=[{id:1,name:"Александр Иванов",score:1},{id:2,name:"Сергей Петров",score:3},{id:3,name:"Джейсон Стейтем",score:3},{id:4,name:"Иван Сидоров",score:6},{name:"Райан Гослинг",score:5,id:7},{name:"Алексей Корнеев",score:5,id:8}],V=e=>e<=3?1:e<=6?3:e<=9?6:9,$=()=>{const{nextQuestion:e,onPlayTimer:t,onPauseTimer:r,onChangeCurrentQuestionNum:o,currentQuestionNum:s,onChangeSafeAmount:a,end:i,onEnd:c,onReset:d,userAnswer:m,onSetUserAnswer:h,timerIsOver:f,incTimerKey:p,helpers:x}=g(),[_,j]=(0,u.useState)(0);(0,u.useEffect)((()=>{if(f){const e=V(s);a(e),c("lose")}}),[s,a,c,d,f]),(0,u.useEffect)((()=>{setTimeout((()=>{G.length===s&&m?.correct&&c("win"),!1===m?.correct&&c("lose")}),2e3)}),[s,c,G.length,m?.correct]),(0,u.useEffect)((()=>{let e=null;if(m&&(e=setInterval((()=>{j((e=>e+1))}),1e3),_>=2)){if(!m.correct){const e=V(s);a(e)}clearInterval(e)}return()=>{clearInterval(e)}}),[_,m,o,s,a]);const b=G[s-1],[y,T]=(0,u.useState)((()=>F(b.answers)));if((0,u.useEffect)((()=>{T(F(b.answers))}),[b.answers]),!b)return null;const P=(e,t)=>m?.id===e&&t?"green":m?.id!==e||t?m?.id!==e&&t?"var(--success)":m?.id===e||t?void 0:"linear-gradient(#304a5d, #02111c)":"var(--danger)";return(0,n.jsxs)("div",{className:v,children:[(0,n.jsx)("span",{className:w,children:b.question}),(0,n.jsx)("div",{className:C,children:b.answers.map((({id:e,text:t,correct:o},a)=>(0,n.jsxs)("button",{type:"button",className:l()(N,{[S]:m?.id===e,[k]:2===_||!!m,[O]:x.half===s&&(a===y.randomFirst||a===y.randomSecond)}),onClick:()=>{return n={id:e,text:t,correct:o},r(),void h(n);var n},style:{background:m&&2===_||f?P(e,o):""},disabled:2===_||!!m||f,children:[t," ",o?"correct":""]},e)))}),(0,n.jsx)(K,{mw:240,style:{padding:12},onClick:()=>{p(),"none"===i?(h(null),e(),t()):d(),j(0)},disabled:2!==_&&!f,children:"none"===i?"Следующий вопрос":"Сыграть заново"})]})},J="Rating-module__list--soNPy",X="Rating-module__item--bdWwe",Z=()=>{const e=D.length?D.sort(((e,t)=>t.score-e.score)):[];return(0,n.jsx)("ul",{className:J,children:e.map((({id:e,name:t,score:r},o)=>(0,n.jsxs)("li",{style:0===o?{backgroundColor:"rgb(249, 191, 80)",color:"black"}:{},className:X,children:[(0,n.jsx)("span",{children:t}),(0,n.jsx)("span",{children:r})]},e)))})};var Y=r(428);const ee="Timer-module__timerWrapper--jneVV",te=()=>{const{playTimer:e,onToggleTimer:t,onSetTimerIsOver:r,timerKey:o}=g();return(0,n.jsx)("div",{className:ee,onClick:t,children:(0,n.jsx)(Y.$,{isPlaying:e,duration:22,colors:["#ff7701","#f44c04","#f63c3c","#f81d1d"],size:220,strokeWidth:10,trailColor:"#f5c75d",colorsTime:[20,10,5,0],onComplete:()=>{r(!0)},children:({remainingTime:e})=>{return(0,n.jsx)("span",{style:{fontWeight:700,...(t=e,t<=5?{color:"#f63c3c",fontSize:"80px"}:t<=10?{color:"#ffb40a",fontSize:"70px"}:{color:"#ffffff",fontSize:"60px"})},children:e});var t}},o)})},re="UserProgress-module__list--odMmV",ne="UserProgress-module__item--yUwcJ",oe=[{num:9,count:40,color:"orange"},{num:8,count:33},{num:7,count:26},{num:6,count:20,color:"orange"},{num:5,count:16},{num:4,count:13},{num:3,count:10,color:"orange"},{num:2,count:6},{num:1,count:3}],se=()=>{const{currentQuestionNum:e,safeAmount:t}=g();return(0,n.jsx)("ul",{className:re,children:oe.map((({num:r,count:o,color:s})=>(0,n.jsxs)("li",{style:{color:(t||e)===r?"black":s,backgroundColor:(t||e)===r?"#f9bf50":void 0},className:ne,children:[(0,n.jsx)("span",{children:r}),(0,n.jsx)("span",{children:o}),(0,n.jsx)("span",{children:"JT coins"})]},r)))})},ae="MainPage-module__mainPage--fWzXx",ie="MainPage-module__topContainer--NnnoO",ce="MainPage-module__centerContainer--HJdNj",le="MainPage-module__timer--BGgud",ue=()=>{const{getQuestions:e,getRating:t}=g();return(0,n.jsxs)("div",{className:ae,children:[(0,n.jsxs)("div",{className:ie,children:[(0,n.jsx)(Z,{}),(0,n.jsxs)("div",{className:ce,children:[(0,n.jsx)(y,{}),(0,n.jsx)("div",{className:le,children:(0,n.jsx)(te,{})})]}),(0,n.jsx)(se,{})]}),G.length&&(0,n.jsx)($,{})]})};var de=r(245);const me="ErrorPage-module__errorPage--eRCS5",he="ErrorPage-module__errorMessage--OBpvh",ge="ErrorPage-module__image--oUkkj",fe=()=>(0,n.jsxs)("div",{className:me,children:[(0,n.jsx)("img",{className:ge,src:de,alt:"ошибка"}),(0,n.jsxs)("span",{className:he,children:["Что-то пошло не так.",(0,n.jsx)("br",{}),"Попробуйте перезагрузить сраницу или зайти позже."]})]}),pe=()=>(0,n.jsx)("div",{children:"Страница не найдена"}),xe=()=>(0,n.jsxs)(i.Z5,{children:[(0,n.jsx)(i.AW,{path:a.MainPage,element:(0,n.jsx)(ue,{})}),(0,n.jsx)(i.AW,{path:a.ErrorPage,element:(0,n.jsx)(fe,{})}),(0,n.jsx)(i.AW,{path:a.NotFound,element:(0,n.jsx)(pe,{})})]}),_e=()=>(0,n.jsx)(h,{children:(0,n.jsx)(xe,{})}),je=(0,o.s)(document.getElementById("root"));"0.0.1".replace(/\./g,"-");je.render((0,n.jsx)(s.VK,{basename:"ok-millionare/",children:(0,n.jsx)(_e,{})}))},83:(e,t,r)=>{e.exports=r.p+"aeec27d34d04f9b7e97f.png"},245:(e,t,r)=>{e.exports=r.p+"03a4dbc95d44bb8b9ffa.png"}},o={};function s(e){var t=o[e];if(void 0!==t)return t.exports;var r=o[e]={exports:{}};return n[e](r,r.exports,s),r.exports}s.m=n,e=[],s.O=(t,r,n,o)=>{if(!r){var a=1/0;for(u=0;u<e.length;u++){for(var[r,n,o]=e[u],i=!0,c=0;c<r.length;c++)(!1&o||a>=o)&&Object.keys(s.O).every((e=>s.O[e](r[c])))?r.splice(c--,1):(i=!1,o<a&&(a=o));if(i){e.splice(u--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,n,o]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},r=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,s.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var o=Object.create(null);s.r(o);var a={};t=t||[null,r({}),r([]),r(r)];for(var i=2&n&&e;"object"==typeof i&&!~t.indexOf(i);i=r(i))Object.getOwnPropertyNames(i).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,s.d(o,a),o},s.d=(e,t)=>{for(var r in t)s.o(t,r)&&!s.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),s.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../"})(),(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,r)=>{var n,o,[a,i,c]=r,l=0;if(a.some((t=>0!==e[t]))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(c)var u=c(s)}for(t&&t(r);l<a.length;l++)o=a[l],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(u)},r=self.webpackChunkok_millionaire=self.webpackChunkok_millionaire||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=s.O(void 0,[736],(()=>s(29)));a=s.O(a)})();
//# sourceMappingURL=main.b13a801c510db041e22a.js.map